/*! For license information please see pagination.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("pagination",[],e):"object"==typeof exports?exports.pagination=e():t.pagination=e()}(self,(()=>{return t={216:function(t,e,o){"use strict";var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(i,r){function s(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.cardProcess=e.paginator=void 0;const r=i(o(78)),s=i(o(792)),a=i(o(15));function c(){const t=document.querySelector(".product_card_container").querySelector(".row_card_parent:last-child");if(!t)return{element:l()};const e=t.querySelectorAll(".row_card_child");return e.length<3?{element:t,length:e.length}:{element:l()}}function l(){var t;const e=document.createElement("div");return e.className="row row_card_parent",null===(t=document.querySelector(".product_card_container"))||void 0===t||t.appendChild(e),e}e.paginator=function(t){const{parentElement:e,skeletonLoading:o,callback:i,csrfToken:l=!1,margin:u}=t,d=s.default.$$(e);let h=!0;a.default.isEndScrolling(d,((t,e)=>{if(d&&t){const t=d.dataset.nextPageNumber,i=d.dataset.uri;if(t&&"null"!==t&&h){const a=function(){return n(this,void 0,void 0,(function*(){if("y"===e){let t=c(),e=null,n=3;if(void 0!==t.length&&t.length<3?(e=t.element,n=3-t.length):e=c(),e)if(e instanceof Element)for(let t=0;t<n;t++)e.appendChild(s.default.textToHTMLElement(o));else if("object"==typeof e)for(let t=0;t<n;t++)e.element.appendChild(s.default.textToHTMLElement(o))}return"x"===e&&d.appendChild(s.default.textToHTMLElement(o)),h=!1}))},u=function(){const{response:t}=p;return t},p=new r.default({uri:i,data:{next_page_number:t,_csrf_token:l},onPreFetch:a,onPostFetch:u,options:{method:"POST",acceptDataFormat:"form-data"}})}}}),u)},e.cardProcess=c},78:t=>{var e;self,e=()=>(()=>{"use strict";var t={};return{"./src/fetch-request.ts":function(t,e){var o=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))((function(i,r){function s(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.fetchData=()=>o(this,void 0,void 0,(function*(){try{if(!this.options)throw new Error("Missing Options for the request");if(!this.options.uri)throw new Error("URI is required");if(!this.options.options||!this.options.options.method)throw new Error("The calling method is required");const t=yield fetch(this.options.uri,{method:this.options.options.method,body:this._formData,headers:{"X-Requested-With":"XMLHttpRequest"}}),e=yield t.json();if(this._response=e,this.options.onPostFetch&&this.options.onPostFetch(e),this.options.onSuccess&&200===t.status)return this.options.onSuccess(e)}catch(t){if(this.options.onError&&200!==this._response.status)return this.options.onError(t,this._response.status);console.error(t)}})),this.preFetch=()=>o(this,void 0,void 0,(function*(){if("function"==typeof this.options.onPreFetch){let t=yield this.options.onPreFetch(this.options.data);t&&(this.options.data=t.data)}})),this.postFetch=()=>o(this,void 0,void 0,(function*(){return this.options.submiter instanceof HTMLButtonElement&&this.options.submiter.removeAttribute("disabled"),this.options.onPostFetch?this.options.onPostFetch():void 0})),this.submitForm=()=>o(this,void 0,void 0,(function*(){try{this.options.onPreFetch&&(yield this.preFetch()),yield this.fetchData(),this.options.onPostFetch&&(yield this.postFetch())}catch(t){console.error("Error executing query : ",t)}})),this.createFormData=t=>{const e=new FormData;for(const[o,n]of Object.entries(t))e.append(o,null!=n?n:"");return e},this.createJSON=t=>JSON.stringify({data:t}),this.options=t,t.submiter?t.submiter.addEventListener("click",this.submitForm):this.submitForm()}get _formData(){const t=t=>t instanceof FormData,e=t=>Array.isArray(t),o=t=>"object"==typeof t&&Object.keys(t).length>0;if(this.options.options){const n=this.options.options.acceptDataFormat;if(n)switch(n){case"form-data":if(t(this.options.data))return this.options.data;if(e(this.options.data))return this.createJSON(this.options.data);if(o(this.options.data))return this.createFormData(this.options.data);break;case"classic-object":if(t(this.options.data)||e(this.options.data)||o(this.options.data))return this.createJSON((e(this.options.data),this.options.data));break;default:throw Error(`The ${n} format is not supported`)}}}get response(){return this._response}}}}["./src/fetch-request.ts"](0,t),t})(),t.exports=e()},15:t=>{var e;self,e=()=>(()=>{"use strict";var t={};return(()=>{var e=t;Object.defineProperty(e,"__esModule",{value:!0});class o{static run(){window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("wheel",this.handleWheel),window.addEventListener("keydown",this.handleKeyDown)}static isEndScrolling(t,e=((t,e)=>{}),o){var n,i;let r=0,s=0;return o&&(r=null!==(n=o.x)&&void 0!==n?n:0,s=null!==(i=o.y)&&void 0!==i?i:0),t.addEventListener("scroll",(function(t){return this.scrollTop>0&&this.scrollTop+this.clientHeight+s>=this.scrollHeight?e(!0,"y"):this.scrollLeft>0&&this.scrollLeft+this.clientWidth+r>=this.scrollWidth?e(!0,"x"):void 0})),e(!1)}static handleMouseDown(t){2===t.button&&(this.isRightClickPressed=!0,this.initialMouseY=t.clientY,this.initialScrollTop=window.scrollY,document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}static handleMouseMove(t){if(this.isRightClickPressed){const e=t.clientY-this.initialMouseY;window.scrollTo(0,this.initialScrollTop-e)}}static handleMouseUp(t){2===t.button&&(this.isRightClickPressed=!1,document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp))}static handleWheel(t){this.isRightClickPressed&&void 0!==t&&(t.deltaY>0?window.scrollBy(0,100):t.deltaY<0&&window.scrollBy(0,-100))}static handleKeyDown(t){void 0!==t&&this.isRightClickPressed&&"ArrowDown"===t.key&&window.scrollBy(0,100)}}o.initialMouseY=0,o.initialScrollTop=0,o.isRightClickPressed=!1,e.default=o})(),t})(),t.exports=e()},792:t=>{var e;self,e=()=>(()=>{"use strict";var t={};return(()=>{var e=t;Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static setAudio(t,e=null){const o=document.createElement("audio");null!=e&&o.classList.add(e);const n=document.createElement("source");return n.src=this.resolvePath(t),n.type="audio/mpeg",o.appendChild(n),o}static textToHTMLElement(t,e="div",o=!1){const n=document.createElement(`${e}`);return n.innerHTML=t,!0===o?n.children:n.firstElementChild}static $$(t){if(t instanceof HTMLElement||t instanceof HTMLCollection)return t;if("string"!=typeof t)throw new Error("Type of element is not supported");{const e=document.querySelectorAll(`${t}`),o=document.querySelector(`${t}`);if(null!==e&&e.length>1)return e;if(null!==o)return o}}static processNodes(t,e=((t,e)=>{})){return t instanceof NodeList||Array.isArray(t)?Array.from(t).forEach(((t,o)=>{e(t,o)})):null!=t?e(t):void 0}static getRegexp(t){switch(t){case"email":return new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/i);case"phone-number":return new RegExp(/^(0|\\+[1-9]{1,3})[0-9 ]+$/);case"number":return new RegExp(/^[0-9]+$/);case"strong-password":return new RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/);case"url":return new RegExp(/^(ht|f)tp(s?)\:\/\/[0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*(:(0-9)*)*(\/?)([a-zA-Z0-9\-\.\?\,\'\/\\\+&amp;%\$#_]*)?$/);case"default-text":return new RegExp(/^[a-zA-Z -'áàâäãåçéèêëğíìîïıñóòôöõúùûüşýÿæœÁÀÂÄÃÅÇÉÈÊËĞÍÌÎÏIÑÓÒÔÖÕÚÙÛÜŞÝŸÆŒ]+$/);case"fr-text":return new RegExp(/^[A-Za-z' - àâçéèêëûæœÀÂÉÈÊËÆŒ]+$/);case"en-text":return new RegExp(/^[a-zA-Z '-]{1,40}$/);case"tr-text":return new RegExp(/^[A-Za-z çğıöüşæœÇĞIÖÜŞ]+$/);default:throw new Error("Type d'expression régulière non pris en charge.")}}static resolvePath(t){const e=window.location.pathname.split("/")[1],o=window.location.origin,n=(window.location.port,window.location.host);return"localhost"==n?o+`/${e}/${t}`:o+`/${t}`}static forbiddener(t="td",e){let o=document.createElement(t);o.setAttribute("class","forbidden");const n={position:"absolute",width:"100%",height:"100%",opacity:".7",zIndex:"10",backgroundColor:e||"#FFFFFF"};return Object.assign(o.style,n),o}static reduceText(t,e=14){return(t="string"==typeof t?t.trim():"").length>e?`${t.substring(0,e)}...`:t}static changeInputTextTypeToNumberType(t,e,o=!1,n){this.processNodes(this.$$(t),(function(t){let i=t;i&&i.addEventListener("input",(function(){const t=o?/^[0-9]+([.,][0-9]+)?$/:/[^\d]/g;if(n){const e=i.value.replace(t,"");i.value=`${parseFloat(e).toFixed(n)}`}else i.value=i.value.replace(t,"");e&&parseInt(i.value)>e&&(i.value=`${e}`)}))}))}static disablor(t="td",e,o,n){const i=document.querySelectorAll("[disablor],[self-disablor]");try{if(!o&&!i)throw new Error("Aucun bouton avec l'attribut <disablor> n'est détecté, vous pouvez le passer manuellement");this.processNodes(i,(o=>{o.addEventListener("click",(()=>{let i=o.hasAttribute("self-disablor")?o:o.closest("[disablor]");if(!e&&!i)throw new Error("Aucun élément à désactiver contenant l'attribut <disablor> n'est détecté, vous pouvez le passer manuellement");i&&(i.style.position="relative",i.insertBefore(this.forbiddener(t,n),i.firstChild),i instanceof HTMLButtonElement&&i.setAttribute("disabled","true"))}))}))}catch(t){console.error("Une erreur s'est produit: ",t)}}static setAsteriskToRequiredField(){const t=document.querySelectorAll("label[required-field]");t&&this.processNodes(t,(t=>{const e=document.createRange().createContextualFragment('<svg class="required-svg">\n        <use xlink:href="../asset/icon.svg#asterisk"></use>\n        </svg>');t.appendChild(e)}))}static hasKeyWithNameSubstring(t,e,o){for(let n in t)if(n.includes(e)){if(void 0===o||!1===o)return t[n];if(!0===o)return n}return!1}static findObjectDataByKeyName(t,e,o){return Object.keys(t).forEach((o=>{if(o.includes(e))return t[o]})),!1}static findChar(t,e,o=!1){for(let n=0;n<=e;n++)if(-1!==t.indexOf(n.toString()))return!!o||n.toString();return!o&&null}static findComputedStyle(t,e){const o=window.getComputedStyle(t),n={};try{if(!t)throw new Error("Element not found");if(!e)throw new Error("Property is required");if(Array.isArray(e)&&e.length>0)return e.forEach((t=>{n[`${t}`]=o.getPropertyValue(`${t}`)})),n;if("string"==typeof e)return o.getPropertyValue(`${e}`)}catch(t){console.error(t)}}static escape(t){if(!t)return"";const e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML}static findHTMLElementBy(t,e){let o=t;if(o)for(;o=o.previousElementSibling;){const t=o.querySelector(e);if(t)return t}return null}static formatHTMLAttributes(t){let e="";if(t)for(const[o,n]of Object.entries(t))o&&(e+=`${o}='${n}'`);return e.trim()}}})(),t})(),t.exports=e()}},e={},function o(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,o),r.exports}(216);var t,e}));
//# sourceMappingURL=pagination.min.js.map