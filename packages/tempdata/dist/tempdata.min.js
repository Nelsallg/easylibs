/*! For license information please see tempdata.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("tempdata",[],t):"object"==typeof exports?exports.tempdata=t():e.tempdata=t()}(self,(()=>{return e={260:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(582),i=o(r(792));t.default=class{constructor(e,t,r=1){this.databasename=e,this.objectstorename=t,this.version=r}openDB(){return new Promise(((e,t)=>{const r=window.indexedDB.open(this.databasename,this.version);r.onerror=e=>{const{target:r}=e;console.error("Failed to open database",null==r?void 0:r.error),t(null==r?void 0:r.error)},r.onsuccess=t=>{var r;const n=null===(r=t.target)||void 0===r?void 0:r.result;e(n)},r.onupgradeneeded=e=>{var t;(null===(t=e.target)||void 0===t?void 0:t.result).createObjectStore(this.objectstorename,{autoIncrement:!0})}}))}add(e){return n(this,void 0,void 0,(function*(){try{const t=yield this._getObjectStore("readwrite"),r=t.add(e);return new Promise(((o,s)=>{r.onsuccess=r=>n(this,void 0,void 0,(function*(){if(r.target){const n=r.target.result;let s=e;s["@id"]=n,t.put(s,n),o({success:!0,elementObject:s})}})),r.onerror=e=>{s(new Error("Failed to add file to IndexedDB: "+e.target.error))}}))}catch(e){return console.error("Error accessing IndexedDB",e),{success:!1}}}))}getIndexedData(){return new Promise(((e,t)=>n(this,void 0,void 0,(function*(){const r=yield this._getObjectStore("readonly"),n=[],o=r.openCursor();o.onerror=e=>{t("Erreur lors de la récupération des éléments de l'index")},o.onsuccess=t=>{const r=t.target.result;r?(n.push(r.value),r.continue()):e(n)}}))))}clearIndexedDB(){return n(this,void 0,void 0,(function*(){yield this.openDB(),indexedDB.deleteDatabase(this.databasename)}))}delete(e){return n(this,void 0,void 0,(function*(){try{const t=yield this._getObjectStore("readwrite");t.delete(Number(e)),console.log(t),yield this.refactorIndexes("[product]");const r=document.querySelector(`[ezat-delete="${e}"]`),n=null==r?void 0:r.closest("[ezat-item]");null==n||n.remove()}catch(t){alert(`Error removing file ${e}: ${t}`)}}))}_getData(e,t){return n(this,void 0,void 0,(function*(){const r=yield this.getIndexedData();if(e>=0&&e<r.length){const n="form-data"===t?new s.Transformer.FormDataTransformer(r[e]):r[e];return"form-data"===t?n.transform():n}}))}_isEmpty(){return n(this,void 0,void 0,(function*(){const e=(yield this._getObjectStore("readonly")).count();return new Promise(((t,r)=>{e.onsuccess=()=>{t(0===e.result)},e.onerror=()=>{r(new Error("Failed to count items in IndexedDB"))}}))}))}_length(){return n(this,void 0,void 0,(function*(){const e=(yield this._getObjectStore("readonly")).count();return new Promise(((t,r)=>{e.onsuccess=r=>{t(e.result)},e.onerror=e=>{r(console.error("Error",e))}}))}))}_getObjectStore(e){return n(this,void 0,void 0,(function*(){return(yield this.openDB()).transaction([this.objectstorename],e).objectStore(this.objectstorename)}))}refactorIndexes(e){return n(this,void 0,void 0,(function*(){const t=yield this.getIndexedData(),r=yield this._isEmpty(),o=[];if(r)return null;t.forEach(((r,s)=>n(this,void 0,void 0,(function*(){const n=this.processObject(r,s,e,t.length);o.push(n)})))),this.replaceIndexedData(o)}))}replaceIndexedData(e){const t=indexedDB.open(this.databasename,this.version);t.onsuccess=t=>{const r=t.target.result.transaction([this.objectstorename],"readwrite").objectStore(this.objectstorename),n=r.clear();n.onsuccess=function(){e.forEach((function(e){r.add(e)}))},n.onerror=function(e){console.error("Erreur lors de la suppression des données existantes :",e.target.error)}},t.onerror=function(e){console.error("Erreur lors de l'ouverture de la base de données :",e.target.error)}}processObject(e,t,r,n){const o={};let s="",a=0,c="",l="";for(const u in e)if(Object.prototype.hasOwnProperty.call(e,u)){const d=u.split(r),f=d[1];if(c=i.default.hasKeyWithNameSubstring(e,"token"),null!==c&&(l=i.default.hasKeyWithNameSubstring(e,"token",!0)),"@base64String"===u&&(s=e[u]),"@id"===u&&(a=parseInt(e[u])),f){const s=i.default.findChar(f,n),a=null!=s?s:"0",c=f.replace(`[${a}]`,`[${t.toString()}]`);o[`${d[0]}${r}${c}`]=e[u]}}return o["@base64String"]=s,o["@id"]=a,o[`${l}`]=c,o}}},582:e=>{var t;self,t=()=>(()=>{"use strict";var e={};return{"./src/transformer.ts":function(e,t){var r,n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};function o(e,t="both"){const r=e.split(",")[0].split(":")[1].split(";")[0].split("/")[1],n=e.split(",")[0].split(":")[1].split(";")[0].split("/")[0];return"type"===t?n:"extension"===t?r:n+"/"+r}Object.defineProperty(t,"__esModule",{value:!0}),t.Transformer=void 0,function(e){e.Base64Transformer=class{constructor(){this.base64String=""}toFile(e,t){this.base64String=e;const r=window.atob(e.split(",")[1]),n=[];let s="";for(let e=0;e<r.length;e+=512){const t=r.slice(e,e+512),o=new Array(t.length);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);const s=new Uint8Array(o);n.push(s)}const i=o(e,"extension"),a=o(e,"type");return s=t||`tranformed_file.${i}`,new File(n,s,{type:`${a}/${i}`})}fromFile(e){return new Promise(((t,r)=>{const n=new FileReader;n.onloadend=()=>{t(n.result)},n.onerror=e=>{r(e)},n.readAsDataURL(e)}))}toUint8Array(e){const t=window.atob(e.split(",")[1]),{length:r}=t,n=new Uint8Array(r);for(let e=0;e<r;e++)n[e]=t.charCodeAt(e);return n}fromUint8Array(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return window.btoa(t)}fromBlob(e){return n(this,void 0,void 0,(function*(){return new Promise((t=>{const r=new FileReader;r.onloadend=function(){const{result:e}=r;t(e||"")},r.readAsDataURL(e)}))}))}},e.BlobTransformer=class{fromUint8Array(e,t){return t=null!=t?t:"",new Blob([e],{type:t})}fromFile(e){return e.slice(0,e.size,e.type)}fromBase64String(e,t){t=t||"";const r=window.atob(e.split(",")[1]),n=new Array(r.length);for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e);const o=new Uint8Array(n);return new Blob([o],{type:t})}},e.FileTransformer=class{toBase64(e){return new Promise(((t,r)=>{const n=new FileReader;n.onloadend=()=>{t(n.result)},n.onerror=e=>{r(e)},n.readAsDataURL(e)}))}fromBase64String(e,t,r,n=!0){t=t||"";const o=n?e.split(",")[1]:e,s=window.atob(o),i=new Array(s.length);for(let e=0;e<s.length;e++)i[e]=s.charCodeAt(e);const a=new Uint8Array(i),c=new Blob([a],{type:t});return r=r||"image",new File([c],r,{type:t})}fromUint8Array(e,t,r){return new File(e,r,{type:t})}},e.FormDataTransformer=class{constructor(e){this._data=e}transform(){const e=new FormData;if("object"==typeof this._data){let t=this._data;try{for(const r in this._data)this._data.hasOwnProperty(r)&&e.append(r,t[r])}catch(e){console.error("Erreur détectée: "+e)}}return e}reverse(){let e={};if(this._data instanceof FormData)try{const t={};this._data.forEach(((e,r)=>{t[r]=e})),e=Object.assign({},t)}catch(e){console.error("Erreur détectée: "+e)}return e}option(e){return"onlyobject"===e?this._data instanceof FormData?this.reverse():this._data:"onlyformdata"===e?this._data instanceof FormData?this._data:this.transform():"auto"===e?this.auto():void 0}auto(){return this._data instanceof FormData?this.reverse():this.transform()}}}(r||(t.Transformer=r={}))}}["./src/transformer.ts"](0,e),e})(),e.exports=t()},792:e=>{var t;self,t=()=>(()=>{"use strict";var e={};return(()=>{var t=e;Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static setAudio(e,t=null){const r=document.createElement("audio");null!=t&&r.classList.add(t);const n=document.createElement("source");return n.src=this.resolvePath(e),n.type="audio/mpeg",r.appendChild(n),r}static textToHTMLElement(e,t="div",r=!1){const n=document.createElement(`${t}`);return n.innerHTML=e,!0===r?n.children:n.firstElementChild}static $$(e){if(e instanceof HTMLElement||e instanceof HTMLCollection)return e;if("string"!=typeof e)throw new Error("Type of element is not supported");{const t=document.querySelectorAll(`${e}`),r=document.querySelector(`${e}`);if(null!==t&&t.length>1)return t;if(null!==r)return r}}static processNodes(e,t=((e,t)=>{})){return e instanceof NodeList||Array.isArray(e)?Array.from(e).forEach(((e,r)=>{t(e,r)})):null!=e?t(e):void 0}static getRegexp(e){switch(e){case"email":return new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/i);case"phone-number":return new RegExp(/^(0|\\+[1-9]{1,3})[0-9 ]+$/);case"number":return new RegExp(/^[0-9]+$/);case"strong-password":return new RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/);case"url":return new RegExp(/^(ht|f)tp(s?)\:\/\/[0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*(:(0-9)*)*(\/?)([a-zA-Z0-9\-\.\?\,\'\/\\\+&amp;%\$#_]*)?$/);case"default-text":return new RegExp(/^[a-zA-Z -'áàâäãåçéèêëğíìîïıñóòôöõúùûüşýÿæœÁÀÂÄÃÅÇÉÈÊËĞÍÌÎÏIÑÓÒÔÖÕÚÙÛÜŞÝŸÆŒ]+$/);case"fr-text":return new RegExp(/^[A-Za-z' - àâçéèêëûæœÀÂÉÈÊËÆŒ]+$/);case"en-text":return new RegExp(/^[a-zA-Z '-]{1,40}$/);case"tr-text":return new RegExp(/^[A-Za-z çğıöüşæœÇĞIÖÜŞ]+$/);default:throw new Error("Type d'expression régulière non pris en charge.")}}static resolvePath(e){const t=window.location.pathname.split("/")[1],r=window.location.origin,n=(window.location.port,window.location.host);return"localhost"==n?r+`/${t}/${e}`:r+`/${e}`}static forbiddener(e="td",t){let r=document.createElement(e);r.setAttribute("class","forbidden");const n={position:"absolute",width:"100%",height:"100%",opacity:".7",zIndex:"10",backgroundColor:t||"#FFFFFF"};return Object.assign(r.style,n),r}static reduceText(e,t=14){return(e="string"==typeof e?e.trim():"").length>t?`${e.substring(0,t)}...`:e}static changeInputTextTypeToNumberType(e,t,r=!1,n){this.processNodes(this.$$(e),(function(e){let o=e;o&&o.addEventListener("input",(function(){const e=r?/^[0-9]+([.,][0-9]+)?$/:/[^\d]/g;if(n){const t=o.value.replace(e,"");o.value=`${parseFloat(t).toFixed(n)}`}else o.value=o.value.replace(e,"");t&&parseInt(o.value)>t&&(o.value=`${t}`)}))}))}static disablor(e="td",t,r,n){const o=document.querySelectorAll("[disablor],[self-disablor]");try{if(!r&&!o)throw new Error("Aucun bouton avec l'attribut <disablor> n'est détecté, vous pouvez le passer manuellement");this.processNodes(o,(r=>{r.addEventListener("click",(()=>{let o=r.hasAttribute("self-disablor")?r:r.closest("[disablor]");if(!t&&!o)throw new Error("Aucun élément à désactiver contenant l'attribut <disablor> n'est détecté, vous pouvez le passer manuellement");o&&(o.style.position="relative",o.insertBefore(this.forbiddener(e,n),o.firstChild),o instanceof HTMLButtonElement&&o.setAttribute("disabled","true"))}))}))}catch(e){console.error("Une erreur s'est produit: ",e)}}static setAsteriskToRequiredField(){const e=document.querySelectorAll("label[required-field]");e&&this.processNodes(e,(e=>{const t=document.createRange().createContextualFragment('<svg class="required-svg">\n        <use xlink:href="../asset/icon.svg#asterisk"></use>\n        </svg>');e.appendChild(t)}))}static hasKeyWithNameSubstring(e,t,r){for(let n in e)if(n.includes(t)){if(void 0===r||!1===r)return e[n];if(!0===r)return n}return!1}static findObjectDataByKeyName(e,t,r){return Object.keys(e).forEach((r=>{if(r.includes(t))return e[r]})),!1}static findChar(e,t,r=!1){for(let n=0;n<=t;n++)if(-1!==e.indexOf(n.toString()))return!!r||n.toString();return!r&&null}static findComputedStyle(e,t){const r=window.getComputedStyle(e),n={};try{if(!e)throw new Error("Element not found");if(!t)throw new Error("Property is required");if(Array.isArray(t)&&t.length>0)return t.forEach((e=>{n[`${e}`]=r.getPropertyValue(`${e}`)})),n;if("string"==typeof t)return r.getPropertyValue(`${t}`)}catch(e){console.error(e)}}static escape(e){if(!e)return"";const t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML}static findHTMLElementBy(e,t){let r=e;if(r)for(;r=r.previousElementSibling;){const e=r.querySelector(t);if(e)return e}return null}static formatHTMLAttributes(e){let t="";if(e)for(const[r,n]of Object.entries(e))r&&(t+=`${r}='${n}'`);return t.trim()}}})(),e})(),e.exports=t()}},t={},function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(260);var e,t}));
//# sourceMappingURL=tempdata.min.js.map