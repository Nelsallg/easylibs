!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("progress-form",[],t):"object"==typeof exports?exports["progress-form"]=t():e["progress-form"]=t()}(self,(()=>(()=>{"use strict";var e={547:(e,t)=>{function s(e){return Array.from(e.querySelectorAll("button, select, input, a, textarea"))}Object.defineProperty(t,"__esModule",{value:!0}),t.getFocusableElements=t.focusInBlock=void 0,t.focusInBlock=function(e,t){e.preventDefault();const l=s(t);let n=l.findIndex((e=>e===t.querySelector(":focus")));!0===e.shiftKey?n--:n++,console.log({focusables:l,block:t}),n>=l.length&&(n=0),n<0&&(n=l.length-1),l[n].focus()},t.getFocusableElements=s}},t={};function s(l){var n=t[l];if(void 0!==n)return n.exports;var r=t[l]={exports:{}};return e[l](r,r.exports,s),r.exports}var l={};return(()=>{var e=l;Object.defineProperty(e,"__esModule",{value:!0});const t=s(547);let n=null;e.default=class{constructor(e=!0){this.element=null,this.targetWidth=-625,this.fieldsetLength=0,this.enableDefaultCssStyle=e}run(e,s){var l;const r=e.form.querySelectorAll("fieldset"),i=null===(l=e.progress)||void 0===l?void 0:l.progressElement;let o=1,d=r.length,c=0;this.fieldsetLength=r.length;const{progress:a}=this;r&&r.length>1&&r.forEach(((s,l)=>{var r;const f=s.querySelector(".next-btn"),u=s.querySelector(".prev-btn");let h=e.translateX;const g=null!==(r=e.targetMarginWidth)&&void 0!==r?r:0;let p=h*o-g;c=h*o+Math.abs(2*h);const y=a*(l+2),b=l>1?a*l:a;if(n=s,s.classList.add(`fieldset${l}`),0===l){s.querySelectorAll("input, select, textarea")[l].focus(),this.setFocusInFieldsest(n)}this.next(f,o,p,i,y),o++,0===l&&(0,t.getFocusableElements)(n),this.prev(u,d,c,i,b),d--})),i&&(i.style.width=`${a}%`),this.enableDefaultCssStyle&&this.cssStyle(e,r,s)}next(e,s,l,r,i){this.fieldsetTargetArray;e&&e.addEventListener("click",(e=>{e.preventDefault();const l=document.querySelector(".fieldset"+(s-1));this.isValidFieldset(l)&&(n=document.querySelector(`.fieldset${s}`),n&&(this.setFocusInFieldsest(n),(0,t.getFocusableElements)(n)),r&&(r.style.width=`${null!=i?i:0}%`))}))}prev(e,s,l,r,i){this.fieldsetTargetArray;e&&e.addEventListener("click",(e=>{e.preventDefault(),n=document.querySelector(`.fieldset${s}`),n&&(this.setFocusInFieldsest(n),(0,t.getFocusableElements)(n)),r&&(r.style.width=`${null!=i?i:0}%`)}))}get progress(){return 100/this.fieldsetLength}setFocusInFieldsest(e){window.addEventListener("keydown",(s=>{"Tab"===s.key&&null!==e&&(0,t.focusInBlock)(s,e)}),{once:!0})}isValidFieldset(e){if(e){const t=Array.from(e.querySelectorAll("input, select, textarea"));if(t)for(const e of t)if(!e.checkValidity())return e.reportValidity(),!1}return!0}get fieldsetTargetArray(){let e=[];if(this.fieldsetLength>0)for(let t=0;t<this.fieldsetLength;t++)e.push(`.fieldset${t}`);return e}fieldsetAnimation(e,t){for(let s=0;s<e.length;s++){document.querySelector(`${e[s]}`).style.transform=`translateX(${t})`}}cssStyle(e,t,s){const l={width:"1800px",height:"100%",overflow:"hidden",display:"flex",justifyContent:"space-between"},n=Object.assign({},{width:"545px",height:"100%",boxSizing:"border-box"},null==s?void 0:s.form),r=Object.assign({},l,null==s?void 0:s.fieldsetContainer),i=Object.assign({},{width:" 25%",transition:"margin-left 0.4s ease-in-out",backgroundColor:"#FFFFFF",justifyContent:"space-between",alignItems:"center",display:"flex",flexDirection:"column",padding:"30px",border:"none",boxShadow:"0 0 5px rgba(255, 255, 255, 0.7137254902)",borderRadius:"3px"},null==s?void 0:s.fieldset);Object.assign(e.form.style,n),Object.assign(e.fieldsetContainer.style,r),t.forEach(((e,t)=>{Object.assign(e.style,i),e.classList.add(`fieldset${t}`)}));t[0].getBoundingClientRect().width;const o=e.fieldsetMargingWidth||60,d=t[0].offsetWidth,c=this.fieldsetLength*d+o;e.fieldsetContainer.style.width=`${c}px`}}})(),l})()));
//# sourceMappingURL=progress-form.min.js.map